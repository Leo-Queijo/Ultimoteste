<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Histórico Médico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="./css/historico.css" />
</head>
<body>

    <header>
        <div class="container">
            <h1 class="text-center">Histórico Médico</h1>
            <nav>
                <ul class="list-unstyled d-flex justify-content-center">
                    <li class="mx-3"><a href="./index.html" class="text-decoration-none text-white">Início</a></li>
                    <li class="mx-3"><a href="./vantagens.html" class="text-decoration-none text-white">Vantagens</a></li>
                    <li class="mx-3"><a href="./funcionalidades.html" class="text-decoration-none text-white">Funcionalidades</a></li>
                    <li class="mx-3"><a href="./contato.html" class="text-decoration-none text-white">Contato</a></li>
                    <li class="mx-3"><a href="./adicionar.html" class="text-decoration-none text-white">Tarefas</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container my-5">
        <div class="row g-4">

            <div class="col-lg-6 col-md-12">
                <div class="card shadow-sm p-4">
                    <h4>Informações da Criança</h4>
                    <div class="text-center mb-3">
                        <img src="./img/crianca.png" alt="Selfie da Criança" class="img-fluid rounded-circle" style="width: 120px; height: 160px; object-fit: cover;">
                    </div>
                    <p><strong>Nome:</strong> Ana Clara</p>
                    <p><strong>Idade:</strong> 7 anos</p>
                    <p><strong>Diagnóstico:</strong> Desnutrição leve</p>
                    <p><strong>Médico Responsável:</strong> Dra. Fernanda Lopes</p>
                    <p><strong>Data da Última Consulta:</strong> 15/03/2024</p>

                </div>
            </div>

            <div class="col-lg-6 col-md-12">
                <div class="card shadow-sm p-4">
                    <h4>Registrar Histórico Médico</h4>
                    <form id="historicoForm">
                        <div class="mb-3">
                            <label for="dataConsulta" class="form-label">Data da Consulta</label>
                            <input type="date" id="dataConsulta" class="form-control" required />
                        </div>
                        <div class="mb-3">
                            <label for="diagnostico" class="form-label">Diagnóstico</label>
                            <input type="text" id="diagnostico" class="form-control" required />
                        </div>
                        <div class="mb-3">
                            <label for="tratamento" class="form-label">Tratamento</label>
                            <input type="text" id="tratamento" class="form-control" required />
                        </div>
                        <button type="submit" class="btn btn-success">Salvar Histórico</button>
                    </form>
                </div>
            </div>

            <div class="col-lg-12 col-md-12">
                <div class="card shadow-sm p-4">
                    <h4>Evolução do Tratamento</h4>
                    <ul id="historicoList" class="list-group">

                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container text-center">
            <p>&copy; 2025 App Saúde Infantil - Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const historicoForm = document.getElementById('historicoForm');
        const historicoList = document.getElementById('historicoList');

        historicoForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const dataConsulta = document.getElementById('dataConsulta').value;
            const diagnostico = document.getElementById('diagnostico').value;
            const tratamento = document.getElementById('tratamento').value;

            const historicoItem = document.createElement('li');
            historicoItem.classList.add('list-group-item');
            historicoItem.innerHTML = `
                <strong>Data:</strong> ${dataConsulta} <br>
                <strong>Diagnóstico:</strong> ${diagnostico} <br>
                <strong>Tratamento:</strong> ${tratamento}
                <button class="btn btn-warning btn-sm float-end edit-btn">Editar</button>
            `;

            historicoList.appendChild(historicoItem);

            historicoForm.reset();

            const editButton = historicoItem.querySelector('.edit-btn');
            editButton.addEventListener('click', function() {
                document.getElementById('dataConsulta').value = dataConsulta;
                document.getElementById('diagnostico').value = diagnostico;
                document.getElementById('tratamento').value = tratamento;

                historicoList.removeChild(historicoItem);
            });
        });
    </script>
</body>
</html>
